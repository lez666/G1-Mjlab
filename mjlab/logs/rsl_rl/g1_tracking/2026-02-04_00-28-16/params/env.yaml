decimation: 4
scene:
  num_envs: 4096
  env_spacing: 2.0
  terrain:
    terrain_type: plane
    terrain_generator: null
    env_spacing: 2.0
    max_init_terrain_level: null
    num_envs: 4096
  entities:
    robot:
      init_state:
        pos: !!python/tuple
        - 0
        - 0
        - 0.76
        rot: !!python/tuple
        - 1.0
        - 0.0
        - 0.0
        - 0.0
        lin_vel: !!python/tuple
        - 0.0
        - 0.0
        - 0.0
        ang_vel: !!python/tuple
        - 0.0
        - 0.0
        - 0.0
        joint_pos:
          .*_hip_pitch_joint: -0.312
          .*_knee_joint: 0.669
          .*_ankle_pitch_joint: -0.363
          .*_elbow_joint: 0.6
          left_shoulder_roll_joint: 0.2
          left_shoulder_pitch_joint: 0.2
          right_shoulder_roll_joint: -0.2
          right_shoulder_pitch_joint: 0.2
        joint_vel:
          .*: 0.0
      spec_fn: !!python/name:mjlab.asset_zoo.robots.unitree_g1.g1_constants.get_spec ''
      articulation:
        actuators: !!python/tuple
        - target_names_expr: !!python/tuple
          - .*_elbow_joint
          - .*_shoulder_pitch_joint
          - .*_shoulder_roll_joint
          - .*_shoulder_yaw_joint
          - .*_wrist_roll_joint
          transmission_type: !!python/object/apply:mjlab.actuator.actuator.TransmissionType
          - joint
          armature: 0.003609725
          frictionloss: 0.0
          stiffness: 14.25062309787429
          damping: 0.907222843292423
          effort_limit: 25.0
        - target_names_expr: !!python/tuple
          - .*_hip_pitch_joint
          - .*_hip_yaw_joint
          - waist_yaw_joint
          transmission_type: !!python/object/apply:mjlab.actuator.actuator.TransmissionType
          - joint
          armature: 0.01017752004132231
          frictionloss: 0.0
          stiffness: 40.17923863450712
          damping: 2.557889775413375
          effort_limit: 88.0
        - target_names_expr: !!python/tuple
          - .*_hip_roll_joint
          - .*_knee_joint
          transmission_type: !!python/object/apply:mjlab.actuator.actuator.TransmissionType
          - joint
          armature: 0.025101924999999997
          frictionloss: 0.0
          stiffness: 99.09842777666111
          damping: 6.308801853496639
          effort_limit: 139.0
        - target_names_expr: !!python/tuple
          - .*_wrist_pitch_joint
          - .*_wrist_yaw_joint
          transmission_type: !!python/object/apply:mjlab.actuator.actuator.TransmissionType
          - joint
          armature: 0.00425
          frictionloss: 0.0
          stiffness: 16.77832748089279
          damping: 1.06814150219
          effort_limit: 5.0
        - target_names_expr: !!python/tuple
          - waist_pitch_joint
          - waist_roll_joint
          transmission_type: !!python/object/apply:mjlab.actuator.actuator.TransmissionType
          - joint
          armature: 0.00721945
          frictionloss: 0.0
          stiffness: 28.50124619574858
          damping: 1.814445686584846
          effort_limit: 50.0
        - target_names_expr: !!python/tuple
          - .*_ankle_pitch_joint
          - .*_ankle_roll_joint
          transmission_type: !!python/object/apply:mjlab.actuator.actuator.TransmissionType
          - joint
          armature: 0.00721945
          frictionloss: 0.0
          stiffness: 28.50124619574858
          damping: 1.814445686584846
          effort_limit: 50.0
        soft_joint_pos_limit_factor: 0.9
      lights: !!python/tuple []
      cameras: !!python/tuple []
      textures: !!python/tuple []
      materials: !!python/tuple []
      collisions: !!python/tuple
      - geom_names_expr: !!python/tuple
        - .*_collision
        contype: 1
        conaffinity: 1
        condim:
          ^(left|right)_foot[1-7]_collision$: 3
          .*_collision: 1
        priority:
          ^(left|right)_foot[1-7]_collision$: 1
        friction:
          ^(left|right)_foot[1-7]_collision$: !!python/tuple
          - 0.6
        solref: null
        solimp: null
        disable_other_geoms: true
  sensors: !!python/tuple
  - name: self_collision
    primary:
      mode: subtree
      pattern: pelvis
      entity: robot
      exclude: !!python/tuple []
    secondary:
      mode: subtree
      pattern: pelvis
      entity: robot
      exclude: !!python/tuple []
    fields: !!python/tuple
    - found
    reduce: none
    num_slots: 1
    secondary_policy: first
    track_air_time: false
    global_frame: false
    history_length: 0
    debug: false
  extent: null
  spec_fn: null
observations:
  policy:
    terms:
      command:
        func: &id002 !!python/name:mjlab.envs.mdp.observations.generated_commands ''
        params:
          command_name: motion
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      motion_anchor_pos_b:
        func: &id003 !!python/name:mjlab.tasks.tracking.mdp.observations.motion_anchor_pos_b ''
        params:
          command_name: motion
        noise:
          operation: add
          _tensor_cache: {}
          n_min: -0.25
          n_max: 0.25
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      motion_anchor_ori_b:
        func: &id004 !!python/name:mjlab.tasks.tracking.mdp.observations.motion_anchor_ori_b ''
        params:
          command_name: motion
        noise:
          operation: add
          _tensor_cache: {}
          n_min: -0.05
          n_max: 0.05
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      base_lin_vel:
        func: &id001 !!python/name:mjlab.envs.mdp.observations.builtin_sensor ''
        params:
          sensor_name: robot/imu_lin_vel
        noise:
          operation: add
          _tensor_cache: {}
          n_min: -0.5
          n_max: 0.5
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      base_ang_vel:
        func: *id001
        params:
          sensor_name: robot/imu_ang_vel
        noise:
          operation: add
          _tensor_cache: {}
          n_min: -0.2
          n_max: 0.2
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      joint_pos:
        func: &id005 !!python/name:mjlab.envs.mdp.observations.joint_pos_rel ''
        params:
          biased: true
        noise:
          operation: add
          _tensor_cache: {}
          n_min: -0.01
          n_max: 0.01
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      joint_vel:
        func: &id006 !!python/name:mjlab.envs.mdp.observations.joint_vel_rel ''
        params: {}
        noise:
          operation: add
          _tensor_cache: {}
          n_min: -0.5
          n_max: 0.5
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      actions:
        func: &id007 !!python/name:mjlab.envs.mdp.observations.last_action ''
        params: {}
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
    concatenate_terms: true
    concatenate_dim: -1
    enable_corruption: true
    history_length: null
    flatten_history_dim: true
    nan_policy: disabled
    nan_check_per_term: true
  critic:
    terms:
      command:
        func: *id002
        params:
          command_name: motion
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      motion_anchor_pos_b:
        func: *id003
        params:
          command_name: motion
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      motion_anchor_ori_b:
        func: *id004
        params:
          command_name: motion
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      body_pos:
        func: !!python/name:mjlab.tasks.tracking.mdp.observations.robot_body_pos_b ''
        params:
          command_name: motion
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      body_ori:
        func: !!python/name:mjlab.tasks.tracking.mdp.observations.robot_body_ori_b ''
        params:
          command_name: motion
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      base_lin_vel:
        func: *id001
        params:
          sensor_name: robot/imu_lin_vel
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      base_ang_vel:
        func: *id001
        params:
          sensor_name: robot/imu_ang_vel
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      joint_pos:
        func: *id005
        params: {}
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      joint_vel:
        func: *id006
        params: {}
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
      actions:
        func: *id007
        params: {}
        noise: null
        clip: null
        scale: null
        delay_min_lag: 0
        delay_max_lag: 0
        delay_per_env: true
        delay_hold_prob: 0.0
        delay_update_period: 0
        delay_per_env_phase: true
        history_length: 0
        flatten_history_dim: true
    concatenate_terms: true
    concatenate_dim: -1
    enable_corruption: false
    history_length: null
    flatten_history_dim: true
    nan_policy: disabled
    nan_check_per_term: true
actions:
  joint_pos:
    entity_name: robot
    clip: null
    transmission_type: !!python/object/apply:mjlab.actuator.actuator.TransmissionType
    - joint
    actuator_names: !!python/tuple
    - .*
    scale:
      .*_elbow_joint: 0.43857731392336724
      .*_shoulder_pitch_joint: 0.43857731392336724
      .*_shoulder_roll_joint: 0.43857731392336724
      .*_shoulder_yaw_joint: 0.43857731392336724
      .*_wrist_roll_joint: 0.43857731392336724
      .*_hip_pitch_joint: 0.5475464629911068
      .*_hip_yaw_joint: 0.5475464629911068
      waist_yaw_joint: 0.5475464629911068
      .*_hip_roll_joint: 0.35066146637882434
      .*_knee_joint: 0.35066146637882434
      .*_wrist_pitch_joint: 0.07450087032950714
      .*_wrist_yaw_joint: 0.07450087032950714
      waist_pitch_joint: 0.43857731392336724
      waist_roll_joint: 0.43857731392336724
      .*_ankle_pitch_joint: 0.43857731392336724
      .*_ankle_roll_joint: 0.43857731392336724
    offset: 0.0
    preserve_order: false
    use_default_offset: true
events:
  push_robot:
    func: !!python/name:mjlab.envs.mdp.events.push_by_setting_velocity ''
    params:
      velocity_range:
        x: !!python/tuple
        - -0.5
        - 0.5
        y: !!python/tuple
        - -0.5
        - 0.5
        z: !!python/tuple
        - -0.2
        - 0.2
        roll: !!python/tuple
        - -0.52
        - 0.52
        pitch: !!python/tuple
        - -0.52
        - 0.52
        yaw: !!python/tuple
        - -0.78
        - 0.78
    mode: interval
    interval_range_s: !!python/tuple
    - 1.0
    - 3.0
    is_global_time: false
    min_step_count_between_reset: 0
    domain_randomization: false
  base_com:
    func: &id008 !!python/name:mjlab.envs.mdp.events.randomize_field ''
    params:
      asset_cfg:
        name: robot
        joint_names: null
        joint_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        body_names: !!python/tuple
        - torso_link
        body_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        geom_names: null
        geom_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
      operation: add
      field: body_ipos
      ranges:
        0: !!python/tuple
        - -0.025
        - 0.025
        1: !!python/tuple
        - -0.05
        - 0.05
        2: !!python/tuple
        - -0.05
        - 0.05
    mode: startup
    interval_range_s: null
    is_global_time: false
    min_step_count_between_reset: 0
    domain_randomization: true
  encoder_bias:
    func: !!python/name:mjlab.envs.mdp.events.randomize_encoder_bias ''
    params:
      asset_cfg:
        name: robot
        joint_names: null
        joint_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        body_names: null
        body_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        geom_names: null
        geom_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
      bias_range: !!python/tuple
      - -0.01
      - 0.01
    mode: startup
    interval_range_s: null
    is_global_time: false
    min_step_count_between_reset: 0
    domain_randomization: false
  foot_friction:
    func: *id008
    params:
      asset_cfg:
        name: robot
        joint_names: null
        joint_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        body_names: null
        body_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        geom_names: ^(left|right)_foot[1-7]_collision$
        geom_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
      operation: abs
      field: geom_friction
      ranges: !!python/tuple
      - 0.3
      - 1.2
      shared_random: true
    mode: startup
    interval_range_s: null
    is_global_time: false
    min_step_count_between_reset: 0
    domain_randomization: true
seed: 42
sim:
  nconmax: 35
  njmax: 250
  ls_parallel: true
  contact_sensor_maxmatch: 64
  mujoco:
    timestep: 0.005
    integrator: implicitfast
    impratio: 1.0
    cone: pyramidal
    jacobian: auto
    solver: newton
    iterations: 10
    tolerance: 1.0e-08
    ls_iterations: 20
    ls_tolerance: 0.01
    ccd_iterations: 50
    gravity: !!python/tuple
    - 0
    - 0
    - -9.81
    multiccd: false
  nan_guard:
    enabled: false
    buffer_size: 100
    output_dir: /tmp/mjlab/nan_dumps
    max_envs_to_dump: 5
viewer:
  lookat: !!python/tuple
  - 0.0
  - 0.0
  - 0.0
  distance: 3.0
  elevation: -5.0
  azimuth: 90.0
  origin_type: !!python/object/apply:mjlab.viewer.viewer_config.OriginType
  - 3
  entity_name: robot
  body_name: torso_link
  env_idx: 0
  enable_reflections: true
  enable_shadows: true
  height: 240
  width: 320
episode_length_s: 10.0
rewards:
  motion_global_root_pos:
    func: !!python/name:mjlab.tasks.tracking.mdp.rewards.motion_global_anchor_position_error_exp ''
    params:
      command_name: motion
      std: 0.3
    weight: 0.5
  motion_global_root_ori:
    func: !!python/name:mjlab.tasks.tracking.mdp.rewards.motion_global_anchor_orientation_error_exp ''
    params:
      command_name: motion
      std: 0.4
    weight: 0.5
  motion_body_pos:
    func: !!python/name:mjlab.tasks.tracking.mdp.rewards.motion_relative_body_position_error_exp ''
    params:
      command_name: motion
      std: 0.3
    weight: 1.0
  motion_body_ori:
    func: !!python/name:mjlab.tasks.tracking.mdp.rewards.motion_relative_body_orientation_error_exp ''
    params:
      command_name: motion
      std: 0.4
    weight: 1.0
  motion_body_lin_vel:
    func: !!python/name:mjlab.tasks.tracking.mdp.rewards.motion_global_body_linear_velocity_error_exp ''
    params:
      command_name: motion
      std: 1.0
    weight: 1.0
  motion_body_ang_vel:
    func: !!python/name:mjlab.tasks.tracking.mdp.rewards.motion_global_body_angular_velocity_error_exp ''
    params:
      command_name: motion
      std: 3.14
    weight: 1.0
  action_rate_l2:
    func: !!python/name:mjlab.envs.mdp.rewards.action_rate_l2 ''
    params: {}
    weight: -0.1
  joint_limit:
    func: !!python/name:mjlab.envs.mdp.rewards.joint_pos_limits ''
    params:
      asset_cfg:
        name: robot
        joint_names: !!python/tuple
        - .*
        joint_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        body_names: null
        body_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        geom_names: null
        geom_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
    weight: -10.0
  self_collisions:
    func: !!python/name:mjlab.tasks.tracking.mdp.rewards.self_collision_cost ''
    params:
      sensor_name: self_collision
    weight: -10.0
terminations:
  time_out:
    func: !!python/name:mjlab.envs.mdp.terminations.time_out ''
    params: {}
    time_out: true
  anchor_pos:
    func: !!python/name:mjlab.tasks.tracking.mdp.terminations.bad_anchor_pos_z_only ''
    params:
      command_name: motion
      threshold: 0.25
    time_out: false
  anchor_ori:
    func: !!python/name:mjlab.tasks.tracking.mdp.terminations.bad_anchor_ori ''
    params:
      asset_cfg:
        name: robot
        joint_names: null
        joint_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        body_names: null
        body_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        geom_names: null
        geom_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        site_names: null
        site_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        actuator_names: null
        actuator_ids: !!python/object/apply:builtins.slice
        - null
        - null
        - null
        preserve_order: false
      command_name: motion
      threshold: 0.8
    time_out: false
  ee_body_pos:
    func: !!python/name:mjlab.tasks.tracking.mdp.terminations.bad_motion_body_pos_z_only ''
    params:
      command_name: motion
      threshold: 0.25
      body_names: !!python/tuple
      - left_ankle_roll_link
      - right_ankle_roll_link
      - left_wrist_yaw_link
      - right_wrist_yaw_link
    time_out: false
commands:
  motion:
    resampling_time_range: !!python/tuple
    - 1000000000.0
    - 1000000000.0
    debug_vis: true
    motion_file: /home/wasabi/Kevin/g1_npz/g1_cartwheel.npz
    anchor_body_name: torso_link
    body_names: !!python/tuple
    - pelvis
    - left_hip_roll_link
    - left_knee_link
    - left_ankle_roll_link
    - right_hip_roll_link
    - right_knee_link
    - right_ankle_roll_link
    - torso_link
    - left_shoulder_roll_link
    - left_elbow_link
    - left_wrist_yaw_link
    - right_shoulder_roll_link
    - right_elbow_link
    - right_wrist_yaw_link
    entity_name: robot
    pose_range:
      x: !!python/tuple
      - -0.05
      - 0.05
      y: !!python/tuple
      - -0.05
      - 0.05
      z: !!python/tuple
      - -0.01
      - 0.01
      roll: !!python/tuple
      - -0.1
      - 0.1
      pitch: !!python/tuple
      - -0.1
      - 0.1
      yaw: !!python/tuple
      - -0.2
      - 0.2
    velocity_range:
      x: !!python/tuple
      - -0.5
      - 0.5
      y: !!python/tuple
      - -0.5
      - 0.5
      z: !!python/tuple
      - -0.2
      - 0.2
      roll: !!python/tuple
      - -0.52
      - 0.52
      pitch: !!python/tuple
      - -0.52
      - 0.52
      yaw: !!python/tuple
      - -0.78
      - 0.78
    joint_position_range: !!python/tuple
    - -0.1
    - 0.1
    adaptive_kernel_size: 1
    adaptive_lambda: 0.8
    adaptive_uniform_ratio: 0.1
    adaptive_alpha: 0.001
    sampling_mode: adaptive
    viz:
      mode: ghost
      ghost_color: !!python/tuple
      - 0.5
      - 0.7
      - 0.5
      - 0.5
curriculum: {}
is_finite_horizon: false
scale_rewards_by_dt: true
